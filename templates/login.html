<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Login â€” MediCore</title>
  <link rel="stylesheet" href="style.css">
</head>
<body class="auth-body">

<div class="auth-container">
  <!-- Left Panel -->
  <div class="auth-left">
    <div class="auth-brand">
      <div class="brand-symbol">âš•</div>
      <h1 class="brand-title">MediCore</h1>
      <p class="brand-tagline">Smart Healthcare Management</p>
    </div>
    <div class="auth-features">
      <div class="feature-item"><span>ğŸ“‹</span> Digital Patient Records</div>
      <div class="feature-item"><span>ğŸ‘¨â€âš•ï¸</span> Doctor Scheduling</div>
      <div class="feature-item"><span>ğŸ“…</span> Appointment Booking</div>
      <div class="feature-item"><span>ğŸ”’</span> Secure & Private</div>
    </div>
  </div>

  <!-- Right Panel -->
  <div class="auth-right">
    <div class="auth-card fade-in">
      <h2 class="auth-heading">Welcome Back</h2>
      <p class="auth-sub">Sign in to continue</p>

      <div id="loginAlert" style="display:none; margin-bottom:12px;"></div>

      <!-- Role Tabs -->
      <div class="role-tabs">
        <button class="role-tab active" onclick="setRole(this,'patient')">Patient</button>
        <button class="role-tab"        onclick="setRole(this,'doctor')">Doctor</button>
        <button class="role-tab"        onclick="setRole(this,'admin')">Admin</button>
      </div>

      <!-- Form -->
      <div class="auth-form">
        <div class="form-group">
          <label>Email Address</label>
          <input type="email" id="loginEmail" placeholder="your@email.com">
        </div>
        <div class="form-group">
          <label>Password</label>
          <input type="password" id="loginPassword" placeholder="â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢">
        </div>
        <button type="button" class="btn-primary btn-full" onclick="handleLogin()">Sign In</button>
      </div>

      <div class="auth-footer" style="margin-top:16px;">
        Don't have an account? <a href="register.html">Register here</a>
      </div>

      <!-- Demo credentials -->
      <div class="demo-box" style="margin-top:20px;">
        <p class="demo-title">Demo Credentials</p>
        <div class="demo-grid">
          <div><strong>Admin</strong>admin@clinic.com<br>admin123</div>
          <div><strong>Doctor</strong>aisha@clinic.com<br>doc123</div>
          <div><strong>Patient</strong>arjun@mail.com<br>pass123</div>
        </div>
      </div>
    </div>
  </div>
</div>

<script>
  let selectedRole = 'patient';

  function setRole(btn, role) {
    document.querySelectorAll('.role-tab').forEach(t => t.classList.remove('active'));
    btn.classList.add('active');
    selectedRole = role;
    document.getElementById('loginAlert').style.display = 'none';
  }

  function showError(msg) {
    const el = document.getElementById('loginAlert');
    el.className = 'alert alert-error';
    el.textContent = msg;
    el.style.display = 'block';
  }

  // â”€â”€ Default seed data â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  const DEFAULT_PATIENTS = [
    { id: 1, name: 'Arjun Kumar',  email: 'arjun@mail.com', phone: '9000000001', dob: '1990-05-12', blood_group: 'O+', address: 'Kochi, Kerala',    password: 'pass123' },
    { id: 2, name: 'Sneha Pillai', email: 'sneha@mail.com', phone: '9000000002', dob: '1995-08-23', blood_group: 'A+', address: 'Thrissur, Kerala',  password: 'pass123' },
    { id: 3, name: 'Rahul Das',    email: 'rahul@mail.com', phone: '9000000003', dob: '1988-03-17', blood_group: 'B+', address: 'Kozhikode, Kerala', password: 'pass123' },
  ];
  const DEFAULT_DOCTORS = [
    { id: 1, name: 'Dr. Aisha Nair',    specialty: 'Cardiology',       email: 'aisha@clinic.com',   phone: '9876543210', available: 1, password: 'doc123' },
    { id: 2, name: 'Dr. Rajan Mehta',   specialty: 'Neurology',        email: 'rajan@clinic.com',   phone: '9876543211', available: 1, password: 'doc123' },
    { id: 3, name: 'Dr. Priya Suresh',  specialty: 'Orthopedics',      email: 'priya@clinic.com',   phone: '9876543212', available: 1, password: 'doc123' },
    { id: 4, name: 'Dr. Samuel Joy',    specialty: 'Pediatrics',       email: 'samuel@clinic.com',  phone: '9876543213', available: 0, password: 'doc123' },
    { id: 5, name: 'Dr. Meera Pillai',  specialty: 'Dermatology',      email: 'meera@clinic.com',   phone: '9876543214', available: 1, password: 'doc123' },
    { id: 6, name: 'Dr. Thomas Kurian', specialty: 'General Medicine', email: 'thomas@clinic.com',  phone: '9876543215', available: 1, password: 'doc123' },
  ];
  const DEFAULT_ADMINS = [
    { id: 1, name: 'Admin', email: 'admin@clinic.com', password: 'admin123' }
  ];

  function handleLogin() {
    const email    = document.getElementById('loginEmail').value.trim();
    const password = document.getElementById('loginPassword').value;

    if (!email || !password) return showError('Please enter your email and password.');

    // â”€â”€ ADMIN â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    if (selectedRole === 'admin') {
      const stored = localStorage.getItem('mc_admins');
      const admins = stored ? JSON.parse(stored) : DEFAULT_ADMINS;
      const user   = admins.find(a => a.email === email && a.password === password);
      if (user) {
        sessionStorage.setItem('mc_user', JSON.stringify({ name: user.name, role: 'admin', id: user.id }));
        window.location.href = 'admin-dashboard.html';
      } else {
        showError('Invalid admin credentials. Register as admin first or use demo: admin@clinic.com / admin123');
      }
      return;
    }

    // â”€â”€ DOCTOR â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    if (selectedRole === 'doctor') {
      const stored  = localStorage.getItem('mc_doctors');
      const doctors = stored ? JSON.parse(stored) : DEFAULT_DOCTORS;
      const user    = doctors.find(d => d.email === email && d.password === password);
      if (user) {
        sessionStorage.setItem('mc_user', JSON.stringify({ name: user.name, role: 'doctor', id: user.id }));
        window.location.href = 'doctor-dashboard.html';
      } else {
        showError('Invalid doctor credentials. Register as doctor first or use demo: aisha@clinic.com / doc123');
      }
      return;
    }

    // â”€â”€ PATIENT â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    if (selectedRole === 'patient') {
      const stored   = localStorage.getItem('mc_patients');
      const patients = stored ? JSON.parse(stored) : DEFAULT_PATIENTS;
      const user     = patients.find(p => p.email === email && p.password === password);
      if (user) {
        sessionStorage.setItem('mc_user', JSON.stringify({ name: user.name, role: 'patient', id: user.id }));
        window.location.href = 'patient-dashboard.html';
      } else {
        showError('Invalid patient credentials. Register first or use demo: arjun@mail.com / pass123');
      }
      return;
    }
  }

  // Allow Enter key to submit
  document.addEventListener('keydown', function(e) {
    if (e.key === 'Enter') handleLogin();
  });
</script>
</body>
</html>